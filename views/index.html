<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=0,minimum-scale=1,maximum-scale=1" >
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script> -->
</head>
<body>
    <h1>jpush</h1>
        <!-- <form action="/jpush" method="POST" class="" > -->
            <div class="form-group">
                <label for="">标题</label>
                <input name='title' class="form-control" type="text">
            </div>
            <div>
                <label for="">内容</label>
                <input name='content' class="form-control" type="text">
            </div>
            <div>
                <label for="">透传内容</label>
                <input name='transmissionContent' class="form-control" type="text">
            </div>
            <div>
                <label for="">设置角标数</label>
                <input name='badge'  class="form-control" type="text">
            </div>
            <div class="center-block">
                <!-- <button type="submit" class="btn btn-lg btn-primary btn-block">提交</button> -->
                <input type='button' id="submit" class="btn btn-lg btn-primary btn-block" value="提交"> 
            </div>
        <!-- </form> -->
        
        <script src="./ajax.js"></script>
        <script>
            document.getElementById('submit').onclick=function(){
                let title = document.querySelector('input[name=title]').value
                let content = document.querySelector('input[name=content]').value
                let transmissionContent = document.querySelector('input[name=transmissionContent]').value
                let badge = document.querySelector('input[name=badge]').value
                // let data = {title,content,transmissionContent,badge}
                // axios.post('/jpush',data).then((res)=>{
                //     console.log(res)
                // }).catch(e=>{
                //     console.log(e)
                // })
                let data = `title=${title}&content=${content}&transmissionContent=${transmissionContent}&badge=${badge}`
                ajax('POST','/jpush',data).then((res)=>{
                    console.log(res)
                }).catch(e=>{
                    console.log(e)
                })
            }
        </script>
    </body>
</html>